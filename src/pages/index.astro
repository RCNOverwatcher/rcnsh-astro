---
import Layout from '../layouts/Layout.astro';
import { SiSpotify } from "react-icons/si";
import Image from 'astro/components/Image.astro';

const rText = "radiant ragged rapid rare rash raw recent reckless rectangular ready real realistic reasonable red reflecting regal regular reliable relieved remarkable remorseful remote repentant required respectful responsible repulsive revolving rewarding rich rigid right ringed ripe roasted robust rosy rotating rotten rough round rowdy royal rubbery rundown ruddy rude runny rural rusty"
const cText = "cut clever close closed cloudy clueless clumsy cluttered coarse cold colorful colorless colossal comfortable common compassionate competent complete complex complicated composed concerned concrete confused conscious considerate constant content conventional cool cooperative coordinated corny corrupt costly courageous courteous crafty crazy creative creepy criminal crisp critical crooked crowded cruel crushing cuddly cultivated cultured cumbersome curly cute cylindrical"
const nText = "naturist newscaster night-owl nation newspaper negotiator number-lover namer nothing note-taker networker notice novelist NHS-Worker native nurse nationalist negativity nobody neurologist nuclear-engineer narcissist nihilist"

const rWords = rText.split(" ").filter((word) => word.trim() !== "");
const cWords = cText.split(" ").filter((word) => word.trim() !== "");
const nWords = nText.split(" ").filter((word) => word.trim() !== "");

const randomRWord = rWords[Math.floor(Math.random() * rWords.length)];
const randomCWord = cWords[Math.floor(Math.random() * cWords.length)];
const randomNWord = nWords[Math.floor(Math.random() * nWords.length)];

const {album,
    albumImageUrl,
    artist,
    isPlaying,
    songUrl,
    title} = await fetch(
  "https://api.rcn.sh/api/spotify"
).then((res) => res.json());
---

<Layout title="rcn.sh">
	<main class="text-[#c5c0b8] h-[100dvh] min-h-[100dvh] w-[100dvw] overflow-x-hidden">
		<img src="/rcnLogo.svg" alt="rcn.sh logo" class="w-1/12 mx-auto" height="500" width="500" />
		<h1 class="text-3xl text-center font-mono">{randomRWord} {randomCWord} {randomNWord}</h1>
		<section class="m-auto w-[80%] text-center text-[#cdc8c2] md:w-[50%] md:text-left">
			<br />
			<section class="justify-center p-2 py-5 text-base">
			  Hi! I&apos;m <b>Jacob</b> (aka rcn), a computer science student in{" "}
			  <b>Year 13</b>. I&apos;m currently working on a few projects, such as
			  my{" "}
			  <a
				href={"https://github.com/RCNOverwatcher/virtue-gymnastics-website"}
				class={"text-[#737dbb] hover:text-[#cdc8c2]"}
			  >
				NEA
			</a>{" "}
			  (Non-Exam Assessment) for <b>A-Level Computer Science</b>.
			</section>
			<section class={"container p-2 py-5 text-[#cdc8c2]"}>
			  My main programming languages are TypeScript and Python, with my
			  primary frontend framework being Next.js, but I also know a bit of
			  Rust and Visual Basic.
			</section>
			<section class={"container p-2 py-5"}>
			  <h2
				class={"flex justify-center py-4 text-xl font-bold text-white"}
			  >
				My GitHub Repositories
			  </h2>
			</section>
			<section class={"py-5 text-[#cdc8c2]"}>
				<a
				  target="_blank"
				  rel="noopener noreferer"
				  href={
					isPlaying
					  ? songUrl
					  : "https://open.spotify.com/user/nz3i2a30ep85rv5ymcpglhndj"
				  }
				  class="relative m-auto flex w-72 items-center space-x-4 rounded-md p-5 transition-shadow hover:shadow-md"
				>
				  <div class="w-16">
					{isPlaying ? (
					  <Image
						class="w-16 shadow-sm"
						src={albumImageUrl}
						alt={album}
						width={64}
						height={64}
					  />
					) : (
					  <SiSpotify size={64} color={"#1ED760"} />
					)}
				  </div>
				  <div class="flex-1">
					<p class="component font-bold">
					  {isPlaying ? title : "Not Listening"}
					</p>
					<p class="font-dark text-xs">
					  {isPlaying ? artist : "Spotify"}
					</p>
				  </div>
				  <div class="absolute bottom-1.5 right-1.5">
					<SiSpotify size={20} color={"#1ED760"} />
				  </div>
				</a>
			</section>
		  </section>
	</main>
</Layout>